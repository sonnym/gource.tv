<div id="content" ng-view></div>

<script type="text/ng-template" id="index.html">
  <div ng-hide="repository">
    <p>
      GourceTV is a service for generating visualizationss from <a href="https://github.com/" target="new">github</a> repositories.
      The <a href="https://news.ycombinator.com/item?id=4992717" target="new">impetus</a> for this project was a simple comment on
      <a href="http://news.ycombinator.com/" target="new">hacker news</a>.  
    </p>

    <p>
      The visualizations are generated by <a href="http://code.google.com/p/gource/" target="new">gource</a>, then converted using
      <a href="https://libav.org/avconv.html" target="new">avconv</a> and uploaded to <a href="http://youtube.com/" target="new">youtube</a> on
      the GourceTV <a href="https://www.youtube.com/user/gourcetv" target="new">channel</a>.
    </p>

    <p>
      Take a look at an example screenshot below. More importantly, search or browse videos to the left and do not forget to add your own repository.
    </p>

    <p>
      The status monitor above is designed to give an idea of the amount of stress put on the <a href="https://www.linode.com/" target="new">linode</a>
      instance during the generation and conversion processes as well as some insight into the job queue.
    </p>

    <div id="gallery">
      <%= image_tag('screenshot.png') %>
    </div>
  </div>
</script>

<script type="text/ng-template" id="repository.html">
  <div>
    <h2>{{repository.account}}/{{repository.name}}</h2>
    <a href="{{repository.web_url}}" target="new">github</a>

    <div ng-show="repository.youtube_processing">
      Currently processing on youtube. Please check back later.
    </div>

    <div ng-show="repository.youtube_id && !(repository.processing || repository.youtube_processing)" ng-cloak>
      <iframe type="text/html" width="640" height="360" ng-src="{{'http://www.youtube.com/embed/' + repository.youtube_id + '?rel=0&vq=hd720&wmode=transparent'}}" frameborder="0"></iframe>
    </div>
  </div>
</script>
